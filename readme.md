# 自动批改作业系统

这是一个基于人工智能技术的自动化作业批改系统，专门针对编程类作业（特别是C++课程）进行优化设计。系统利用大型语言模型（LLM）对学生的编程作业进行智能评估和打分。

## 功能特点

- **智能批改**: 利用大语言模型对C++代码进行理解和评估
- **批量处理**: 支持批量处理多个学生的作业文件
- **灵活配置**: 支持不同类型的作业（实验/理论）和自定义评分标准
- **Web界面**: 提供友好的网页界面，简化操作流程
- **结果导出**: 自动生成CSV格式的成绩单

## 技术架构

- **后端**: Python Flask + LangGraph
- **AI模型**: 集成阿里云通义千问（Qwen3）模型
- **前端**: HTML + JavaScript
- **数据处理**: CSV格式结果导出

## 安装与部署

### 1. 环境准备

确保已安装 Python 3.8 或更高版本。

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 运行Web界面

```bash
python web_app.py
```

访问 `http://localhost:5000` 即可进入Web界面。

## 使用指南

### 步骤1: 准备作业文件

1. 将学生提交的作业压缩包（ZIP格式）放在一个目录中
2. 确保ZIP文件名包含学生信息（如学号、姓名等）


### 步骤2: 配置批改参数

在Web界面中填写以下信息：

1. **包含学生作业的目录**: 合并后的目录路径
2. **作业类型**: 
   - 实验：适用于编程实践类作业，按分数评分
   - 理论：适用于概念理解类作业，按等级（A/B/C）评分
3. **作业要求**: 详细描述作业的具体要求
4. **题目数量**: 本次作业包含的题目总数
5. **LLM API Base URL**: 默认为阿里云DashScope API地址，可选用其他兼容方式
6. **模型名称**: 默认为qwen3-235b-a22b，可使用其他模型
7. **API Key**: 您的LLM服务API密钥

### 步骤3: 开始批改

点击"开始批改作业"按钮，系统将自动处理所有作业并生成评分结果。

## 项目结构

```
自动批改作业agent/
├── web_app.py          # Web应用入口
├── templates/          # HTML模板
├── main.py             # 主处理逻辑
├── tools/              # 工具模块
│   ├── llm.py          # LLM接口封装
│   ├── get_files.py    # 文件获取工具
│   ├── get_content.py  # 内容提取工具
│   ├── group_files.py  # 文件分组工具
│   └── file_processor.py # 文件处理器
├── preprocessor/       # 预处理工具
│   └── merge_zip.py    # ZIP文件合并器
├── postprocessor/      # 后处理工具
│   └── transfer_grade.py # 成绩转换器
├── template/           # 模板文件
│   └── simpleTemplate.py # 评分模板
├── requirements.txt    # 项目依赖
└── README.md          # 项目说明
```

## 扩展性

该项目设计具有良好的扩展性：
- 可以轻松适配其他编程语言
- 支持更换不同的LLM模型
- 可以自定义评分标准和模板
- 支持多种输出格式

## 注意事项

1. 确保网络连接稳定，因为系统需要调用外部LLM服务
2. API Key应妥善保管，不要泄露到公共代码仓库
3. 作业要求描述应尽量详细准确，以获得更好的评分效果
4. 处理大量作业时可能需要较长时间，请耐心等待

## 许可证

本项目仅供教育用途使用。